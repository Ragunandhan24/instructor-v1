(this.webpackJsonpinstructor=this.webpackJsonpinstructor||[]).push([[0],{27:function(e,t,a){e.exports=a(40)},32:function(e,t,a){},33:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),c=a.n(o),s=a(8),l=a(9),u=a(11),i=a(10),m=a(12),d=(a(32),a(13)),h=a(18),p=(a(33),a(15)),g=a.n(p),b=a(6),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleChange=function(e){(""===e.target.value||/^[1-9\b]+$/.test(e.target.value))&&a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleName=function(e){(""===e.target.value||/^[a-zA-Z\-\s]+$/.test(e.target.value))&&a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleAdd=function(e){e.preventDefault();var t=a.getLocalStorage(),n={courseName:a.state.courseName,duration:a.state.duration,maxAttendees:a.state.maxAttendees};if(n.courseName.length>=5)if(a.state.currentIndex>=0&&""!==a.state.currentIndex){var r=Object(d.a)(t);r.splice(a.state.currentIndex,1,n),a.setLocalStorage(r),g()("Nice","The course has been Saved","success"),a.props.history.push("/")}else{if(t){var o=Object(d.a)(t);o.push(n),a.setLocalStorage(o)}else{var c=[];c.push(n),a.setLocalStorage(c)}a.setState({courseName:"",duration:"",maxAttendees:""}),g()("Nice","The course has been Saved","success")}else g()("Course Name Error","Course Name should be atleast 6 Characters","error")},a.setLocalStorage=function(e){localStorage.setItem("courseData",JSON.stringify(e))},a.getLocalStorage=function(){return console.log("getlocal",JSON.parse(localStorage.getItem("courseData"))),JSON.parse(localStorage.getItem("courseData"))},a.state={courseName:"",duration:"",maxAttendees:"",currentIndex:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(t,a){e.props.location.state?t({courseName:e.props.location.state.value.courseName,duration:e.props.location.state.value.duration,maxAttendees:e.props.location.state.value.maxAttendees,currentIndex:e.props.location.state.index}):a({courseName:"",duration:"",maxAttendees:"",currentIndex:""})})).then((function(t){console.log("response from didmount",t);var a=t.courseName,n=t.duration,r=t.maxAttendees,o=t.currentIndex;e.setState({courseName:a,duration:n,maxAttendees:r,currentIndex:o})})).catch((function(t){console.log("error response",t),e.setState({e:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-6 col-md-8 col-sm-10 col-xs-12"},r.a.createElement("form",{onSubmit:this.handleAdd,className:"form-container"},r.a.createElement("h4",null,"Add Course"),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"coursename"},"Course Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"coursename","aria-describedby":"emailHelp",onChange:this.handleName,name:"courseName",value:this.state.courseName,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"duration"},"Duration (in Hours)"),r.a.createElement("input",{type:"text",className:"form-control",id:"duration",onChange:this.handleChange,name:"duration",value:this.state.duration,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"maxattendees"},"Max Attendees (number)"),r.a.createElement("input",{type:"text",className:"form-control",id:"maxattendees",onChange:this.handleChange,name:"maxAttendees",value:this.state.maxAttendees,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add"),r.a.createElement(b.b,{to:"/",className:"btn btn-primary"},"Back")))))}}]),t}(r.a.Component),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={courseData:[],loaded:!1},a.handleDelete=function(e){var t=Object(d.a)(a.state.courseData);t.splice(e,1),console.log(t),a.setState({courseData:t}),localStorage.setItem("courseData",JSON.stringify(t))},a.handleEdit=function(e){var t=Object(d.a)(a.state.courseData)[e];a.props.history.push({pathname:"/add",state:{index:e,courseData:a.state.courseData,value:t}})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){var a=JSON.parse(localStorage.getItem("courseData"));a&&a.length>0?e(a):t("no data")})).then((function(t){console.log("response",t),e.setState({courseData:t,loaded:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Course Name"),r.a.createElement("th",{scope:"col"},"Duration (in hours)"),r.a.createElement("th",{scope:"col"},"Max Attendees"),r.a.createElement("th",{scope:"col"},"Action"))),r.a.createElement("tbody",null,this.state.courseData.length>0?this.state.courseData.map((function(t,a){return console.log("index inside map",a),r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.courseName),r.a.createElement("td",null,t.duration),r.a.createElement("td",null,t.maxAttendees),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.handleEdit(a)},type:"button",className:"btn btn-primary"},"Edit"),r.a.createElement("button",{onClick:function(){return e.handleDelete(a)},type:"button",className:"btn btn-danger"},"Delete")))})):r.a.createElement("tr",null,r.a.createElement("td",{align:"center",colSpan:"5"},"No Data Saved"))))),r.a.createElement(b.b,{to:"/add"},"Add"))}}]),t}(r.a.Component),f=a(5),N=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{style:{textAlign:"center"}},"Instructor"),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",component:v,exact:!0}),r.a.createElement(f.a,{path:"/add",component:E,exact:!0})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b.a,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.c988b492.chunk.js.map